<div>
    <mat-form-field appearance="fill" fxFlex="50">
        <mat-label>Enter a date range</mat-label>
        <mat-date-range-input [rangePicker]="picker">
            <input #dateRangeStart matStartDate placeholder="Start date">
            <input #dateRangeEnd matEndDate placeholder="End date"
                (dateChange)="dateRangeChange(dateRangeStart, dateRangeEnd)">
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
    </mat-form-field>
</div>
<div *ngIf="loading">
    <mat-progress-spinner mode="indeterminate" [value]="100" color="primary" class="loading-spinner">
    </mat-progress-spinner>
</div>

<p class="text-error">{{ errorMessage }}</p>


<div *ngIf="!loading">
    <div class="no-data" *ngIf="dataSource.data.length===0" style="margin: 30px">
        You have no rejected withdrawal requests yet.</div>
</div>

<div *ngIf="dataSource.data.length!==0" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px">
    <button mat-raised-button (click)="exporter.exportTable('csv')" fxFlexAlign="center" color="primary">Export</button>
    <mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8" matTableExporter #exporter="matTableExporter">
        <ng-container matColumnDef="firstName">
            <mat-header-cell *matHeaderCellDef> First name
            </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.beneficiary.firstName |titlecase}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="lastName">
            <mat-header-cell *matHeaderCellDef> Last name
            </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.beneficiary.lastName |titlecase}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="bankName">
            <mat-header-cell *matHeaderCellDef> Bank name
            </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.bankName | titlecase}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="bankAccountNo">
            <mat-header-cell *matHeaderCellDef> Bank account no.</mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.bankAccountNo | titlecase}} </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        <mat-row *matNoDataRow>No approved withdrawal requests yet.</mat-row>

    </mat-table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page">
    </mat-paginator>
</div>