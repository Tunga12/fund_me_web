<mat-card [ngStyle.gt-sm]="{ width: '45%' }" [ngStyle.sm]="{ width: '60%' }" [ngStyle.lt-sm]="{ width: '85%' }"
    [ngStyle]="{ margin: '30px auto' }">
    <mat-card-title fxLayoutAlign="center">
        <h1 class="headline" data-cy="sign-up-header">
            {{ "Report" | translate }}
        </h1>
    </mat-card-title>
    <div>
        <mat-divider mat-inset></mat-divider>
    </div>

    <mat-card-content>
        <form [formGroup]="form" (ngSubmit)="signUp()">
            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between center" fxLayoutGap="10px">
                <mat-form-field appearance="outline">
                    <mat-label>{{ "Your full name" | translate }} * </mat-label>
                    <input matInput formControlName="name" [placeholder]="'First name' | translate" type="text"
                        autocomplete="given-name" />
                    <mat-error data-cy="fname-empty-error" *ngIf="name?.touched && name?.errors?.required">
                        {{ "Please enter your first name" | translate }}
                    </mat-error>

                    <mat-error data-cy="fname-minlength-error" *ngIf="name?.touched && name?.errors?.minlength">{{
              "Name must be letters minimum."
                | translate
                  : { minlength: name?.errors?.minlength.requiredLength }
            }}
                    </mat-error>

                    <mat-error data-cy="fname-maxlength-error" *ngIf="name?.touched && name?.errors?.maxlength">{{
              "Name must be letters maximum."
                | translate
                  : { maxlength: name?.errors?.maxlength.requiredLength }
            }}
                    </mat-error>

                    <mat-error data-cy="fname-whitespace-error" *ngIf="name?.touched && name?.errors?.whiteSpace">
                        {{ "Name" | translate }}
                        {{ "cannot include white spaces." | translate }}
                    </mat-error>
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between start" fxLayoutGap="10px">
                <mat-form-field appearance="outline">
                    <mat-label> {{ "Email Address" | translate }} *</mat-label>
                    <input matInput formControlName="email" [placeholder]="'Email Address' | translate"
                        autocomplete="email" type="email" />
                    <mat-icon matPrefix>email</mat-icon>
                    <mat-error data-cy="email-invalid-error" *ngIf="email?.touched && email?.errors?.email">
                        {{ "Please enter a valid email." | translate }}
                    </mat-error>
                    <mat-error data-cy="email-empty-error" *ngIf="email?.touched && email?.errors?.required">
                        {{ "Please enter your email." | translate }}
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label> {{ "Phone number" | translate }} *</mat-label>
                    <input matInput formControlName="phoneNumber" [placeholder]="'Phone number' | translate" type="tel"
                        autocomplete="tel" />
                    <mat-icon matPrefix>phone</mat-icon>
                    <mat-error data-cy="phone-length-error" *ngIf="
              phone?.touched &&
              (phone?.errors?.minlength || phone?.errors?.maxlength)
            ">{{
              "Phone number must be digits."
                | translate
                  : { length: phone?.errors?.minlength?.requiredLength }
            }}
                    </mat-error>

                    <mat-error data-cy="phone-empty-error" *ngIf="phone?.touched && phone?.errors?.required">
                        {{ "Please enter your phone number" | translate }}
                    </mat-error>

                    <mat-error data-cy="fname-whitespace-error" *ngIf="phone?.touched && phone?.errors?.whiteSpace">
                        {{ "Phone number" | translate }}
                        {{ "cannot include white spaces." | translate }}
                    </mat-error>
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between center" fxLayoutGap="10px">
                <mat-form-field appearance="outline">
                    <mat-label>Fundraiser URL * </mat-label>
                    <input matInput formControlName="url" [placeholder]="'Fundraiser URL' | translate" type="text"
                        autocomplete="given-name" />
                    <mat-error data-cy="fname-empty-error" *ngIf="url?.touched && url?.errors?.required">
                        {{ "Please enter a url" | translate }}
                    </mat-error>

                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between start" fxLayoutGap="10px">
                <mat-form-field appearance="outline">
                    <mat-label>Do you know the organizer of the fundraiser?</mat-label>
                    <mat-select formControlName="knowsOrganizer">
                        <mat-option [value]="true">
                            Yes
                        </mat-option>
                        <mat-option [value]="false">
                            No
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div *ngIf="knowsOrganizer?.value == true" fxLayout="row" fxLayout.lt-md="column"
                fxLayoutAlign="space-between center" fxLayoutGap="10px">
                <mat-form-field appearance="outline">
                    <mat-label>{{ "How do you know the organizer?" | translate }} * </mat-label>
                    <textarea matInput formControlName="knowsDescription" [placeholder]="'First name' | translate"
                        type="text" autocomplete="given-name"></textarea>
                    <mat-error data-cy="fname-empty-error"
                        *ngIf="knowsDescription?.touched && knowsDescription?.errors?.required">
                        {{ "Please enter your first name" | translate }}
                    </mat-error>
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between start" fxLayoutGap="10px">
                <mat-form-field appearance="outline">
                    <mat-label>What best describes the situation?</mat-label>
                    <mat-select formControlName="reportType">
                        <mat-option *ngFor="let reason of reportTypes" [value]="true">
                            {{ reason }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between center" fxLayoutGap="10px">
                <mat-form-field appearance="outline">
                    <mat-label>{{ "Describe your concern" | translate }} * </mat-label>
                    <textarea matInput formControlName="reportDescription" [placeholder]="'First name' | translate"
                        type="text" autocomplete="given-name"></textarea>
                    <mat-error data-cy="fname-empty-error"
                        *ngIf="reportDescription?.touched && reportDescription?.errors?.required">
                        {{ "Please enter your first name" | translate }}
                    </mat-error>
                </mat-form-field>
            </div>

            <mat-progress-bar data-cy="loader" *ngIf="loading" mode="indeterminate"></mat-progress-bar>
            <div fxLayout="row" fxLayoutAlign="space-around center" fxLayoutGap="0px">
                <mat-error>{{ errorMessage }}</mat-error>
            </div>

            <button data-cy="sign-up-btn" mat-raised-button [disabled]="!form.valid || loading" type="submit"
                color="primary" class="btn-large">
                {{ "Report" | translate }}
            </button>
        </form>
    </mat-card-content>

</mat-card>

<p class="footer-logo"></p>